<section class="todoapp">
    <header class="header">
        <h1>todos</h1>
        <form
            class="todo-form"
            ng-submit="$ctrl.addTodo()"
        >
            <input
                class="new-todo"
                placeholder="What needs to be done?"
                ng-model="newTodo"
                autofocus
            >
        </form>
    </header>
    <section
        class="main"
        ng-show="$ctrl.todos.length"
        ng-cloak
    >
        <input
            id="toggle-all"
            class="toggle-all"
            type="checkbox"
            ng-model="allChecked"
            ng-click="markAll(allChecked)"
        >
        <label for="toggle-all">Mark all as complete</label>
        <ul class="todo-list">
            <todo
                todo="todo"
                remove="$ctrl.removeTodo($index)"
                update="$ctrl.updateTodo($index, todo)"
                ng-repeat="todo in $ctrl.todos track by $index"
            ></todo>
        </ul>
    </section>
    <footer
        class="footer"
        ng-show="$ctrl.todos.length"
        ng-cloak
    >
        <span class="todo-count">
            <strong ng-bind="$ctrl.getRemainingCount()"></strong>
            <ng-pluralize
                count="$ctrl.getRemainingCount()"
                when="{ one: 'item left', other: 'items left' }"
            ></ng-pluralize>
        </span>
        <ul class="filters">
            <li>
                <a
                    ng-class="{selected: location.path() == '/'} "
                    href="#/"
                >All</a>
            </li>
            <li>
                <a
                    ng-class="{selected: location.path() == '/active'}"
                    href="#/active"
                >Active</a>
            </li>
            <li>
                <a
                    ng-class="{selected: location.path() == '/completed'}"
                    href="#/completed"
                >Completed</a>
            </li>
        </ul>
        <button
            class="clear-completed"
            ng-click="clearDoneTodos()"
            ng-show="remainingCount < todos.length"
        >Clear
            completed</button>
    </footer>
</section>